@startuml
TaxiDriverApp -> comm: endRide(GPS) //GPS?
comm -> taxiMan: 
taxiMan -> LocationManager: TaxiDriverIsInsideCity(GPS)


LocationManager -> MappingService
activate MappingService
LocationManager <-- MappingService
deactivate MappingService
alt taxi driver inside city
	taxiMan <-- LocationManager: true
	taxiMan -> taxiMan: setTaxiDriverAvailableStatus(taxiId) //??
	taxiMan -> LocationManager: getCurrentZone(taxiId);
	taxiMan <-- LocationManager: zone
	taxiMan -> taxiMan: addToZoneQueue(zone, taxiId) //??
else
	taxiMan <-- LocationManager: false
	taxiMan -> taxiMan: setTaxiDriverAsOutOfCity(taxiId) //??
end
taxiMan -> DBMS: write
taxiMan ->> comm: confirm()
comm ->> TaxiDriverApp: confirm()
@enduml